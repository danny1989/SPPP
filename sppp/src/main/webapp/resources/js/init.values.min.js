function setup_widgets_desktop(){$.fn.jarvisWidgets&&enableJarvisWidgets&&$("#widget-grid").jarvisWidgets({grid:"article",widgets:".jarviswidget",localStorage:!0,deleteSettingsKey:"#deletesettingskey-options",settingsKeyLabel:"Reset settings?",deletePositionKey:"#deletepositionkey-options",positionKeyLabel:"Reset position?",sortable:!0,buttonsHidden:!1,toggleButton:!0,toggleClass:"fa fa-minus | fa fa-plus",toggleSpeed:200,onToggle:function(){},deleteButton:!0,deleteClass:"fa fa-times",deleteSpeed:200,onDelete:function(){},editButton:!0,editPlaceholder:".jarviswidget-editbox",editClass:"fa fa-cog | fa fa-save",editSpeed:200,onEdit:function(){},colorButton:!0,fullscreenButton:!0,fullscreenClass:"fa fa-expand | fa fa-compress",fullscreenDiff:3,onFullscreen:function(){},customButton:!1,customClass:"folder-10 | next-10",customStart:function(){alert("Hello you, this is a custom button...")},customEnd:function(){alert("bye, till next time...")},buttonOrder:"%refresh% %custom% %edit% %toggle% %fullscreen% %delete%",opacity:1,dragHandle:"> header",placeholderClass:"jarviswidget-placeholder",indicator:!0,indicatorTime:600,ajax:!0,timestampPlaceholder:".jarviswidget-timestamp",timestampFormat:"Last update: %m%/%d%/%y% %h%:%i%:%s%",refreshButton:!0,refreshButtonClass:"fa fa-refresh",labelError:"Sorry but there was a error:",labelUpdated:"Last Update:",labelRefresh:"Refresh",labelDelete:"Delete widget:",afterLoad:function(){},rtl:!1,onChange:function(){},onSave:function(){},ajaxnav:$.navAsAjax})}function setup_widgets_mobile(){enableMobileWidgets&&enableJarvisWidgets&&setup_widgets_desktop()}function loadScript(f,e){if(jsArray[f]){e&&e()}else{jsArray[f]=!0;var h=document.getElementsByTagName("body")[0],g=document.createElement("script");g.type="text/javascript",g.src=f,g.onload=e,h.appendChild(g)}}$.root_=$("body"),$.intervalArr=[];var calc_navbar_height=function(){var b=null;return $("#header").length&&(b=$("#header").height()),null===b&&(b=$('<div id="header"></div>').height()),null===b?49:b},navbar_height=calc_navbar_height,shortcut_dropdown=$("#shortcut"),bread_crumb=$("#ribbon ol.breadcrumb"),topmenu=!1,thisDevice=null,ismobile=/iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm/i.test(navigator.userAgent.toLowerCase()),jsArray={},initApp=function(b){return b.addDeviceType=function(){return ismobile?($.root_.addClass("mobile-detected"),thisDevice="mobile",fastClick?($.root_.addClass("needsclick"),FastClick.attach(document.body),!1):void 0):($.root_.addClass("desktop-detected"),thisDevice="desktop",!1)},b.menuPos=function(){($.root_.hasClass("menu-on-top")||"top"==localStorage.getItem("sm-setmenu"))&&(topmenu=!0,$.root_.addClass("menu-on-top"))},b.SmartActions=function(){var c={userLogout:function(e){function d(){window.location=e.attr("href")}$.SmartMessageBox({title:"<i class='fa fa-sign-out txt-color-orangeDark'></i> Logout <span class='txt-color-orangeDark'><strong>"+$("#show-shortcut").text()+"</strong></span> ?",content:e.data("logout-msg")||"You can improve your security further after logging out by closing this opened browser",buttons:"[No][Yes]"},function(f){"Yes"==f&&($.root_.addClass("animated fadeOutUp"),setTimeout(d,1000))})},resetWidgets:function(d){$.widresetMSG=d.data("reset-msg"),$.SmartMessageBox({title:"<i class='fa fa-refresh' style='color:green'></i> Clear Local Storage",content:$.widresetMSG||"Would you like to RESET all your saved widgets and clear LocalStorage?",buttons:"[No][Yes]"},function(e){"Yes"==e&&localStorage&&(localStorage.clear(),location.reload())})},launchFullscreen:function(d){$.root_.hasClass("full-screen")?($.root_.removeClass("full-screen"),document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()):($.root_.addClass("full-screen"),d.requestFullscreen?d.requestFullscreen():d.mozRequestFullScreen?d.mozRequestFullScreen():d.webkitRequestFullscreen?d.webkitRequestFullscreen():d.msRequestFullscreen&&d.msRequestFullscreen())},minifyMenu:function(d){$.root_.hasClass("menu-on-top")||($.root_.toggleClass("minified"),$.root_.removeClass("hidden-menu"),$("html").removeClass("hidden-menu-mobile-lock"),d.effect("highlight",{},500))},toggleMenu:function(){$.root_.hasClass("menu-on-top")?$.root_.hasClass("menu-on-top")&&$.root_.hasClass("mobile-view-activated")&&($("html").toggleClass("hidden-menu-mobile-lock"),$.root_.toggleClass("hidden-menu"),$.root_.removeClass("minified")):($("html").toggleClass("hidden-menu-mobile-lock"),$.root_.toggleClass("hidden-menu"),$.root_.removeClass("minified"))},toggleShortcut:function(){function e(){shortcut_dropdown.animate({height:"hide"},300,"easeOutCirc"),$.root_.removeClass("shortcut-on")}function d(){shortcut_dropdown.animate({height:"show"},200,"easeOutCirc"),$.root_.addClass("shortcut-on")}shortcut_dropdown.is(":visible")?e():d(),shortcut_dropdown.find("a").click(function(a){a.preventDefault(),window.location=$(this).attr("href"),setTimeout(e,300)}),$(document).mouseup(function(a){shortcut_dropdown.is(a.target)||0!==shortcut_dropdown.has(a.target).length||e()})}};$.root_.on("click",'[data-action="userLogout"]',function(a){var d=$(this);c.userLogout(d),a.preventDefault(),d=null}),$.root_.on("click",'[data-action="resetWidgets"]',function(a){var d=$(this);c.resetWidgets(d),a.preventDefault(),d=null}),$.root_.on("click",'[data-action="launchFullscreen"]',function(a){c.launchFullscreen(document.documentElement),a.preventDefault()}),$.root_.on("click",'[data-action="minifyMenu"]',function(a){var d=$(this);c.minifyMenu(d),a.preventDefault(),d=null}),$.root_.on("click",'[data-action="toggleMenu"]',function(a){c.toggleMenu(),a.preventDefault()}),$.root_.on("click",'[data-action="toggleShortcut"]',function(a){c.toggleShortcut(),a.preventDefault()})},b.leftNav=function(){topmenu||$("nav ul").jarvismenu({accordion:!0,speed:menu_speed,closedSign:'<em class="fa fa-plus-square-o"></em>',openedSign:'<em class="fa fa-minus-square-o"></em>'})},b.domReadyMisc=function(){$("[rel=tooltip]").length&&$("[rel=tooltip]").tooltip(),$("#search-mobile").click(function(){$.root_.addClass("search-mobile")}),$("#cancel-search-js").click(function(){$.root_.removeClass("search-mobile")}),$("#activity").click(function(e){var d=$(this);d.find(".badge").hasClass("bg-color-red")&&(d.find(".badge").removeClassPrefix("bg-color-"),d.find(".badge").text("0")),d.next(".ajax-dropdown").is(":visible")?(d.next(".ajax-dropdown").fadeOut(150),d.removeClass("active")):(d.next(".ajax-dropdown").fadeIn(150),d.addClass("active"));var f=d.next(".ajax-dropdown").find(".btn-group > .active > input").attr("id");d=null,f=null,e.preventDefault()}),$('input[name="activity"]').change(function(){}),$(document).mouseup(function(c){$(".ajax-dropdown").is(c.target)||0!==$(".ajax-dropdown").has(c.target).length||($(".ajax-dropdown").fadeOut(150),$(".ajax-dropdown").prev().removeClass("active"))}),$("button[data-btn-loading]").on("click",function(){var c=$(this);c.button("loading"),setTimeout(function(){c.button("reset")},3000),$this=null}),$this=$("#activity > .badge"),parseInt($this.text())>0&&($this.addClass("bg-color-red bounceIn animated"),$this=null)},b}({});initApp.addDeviceType(),initApp.menuPos(),jQuery(document).ready(function(){initApp.SmartActions(),initApp.leftNav(),initApp.domReadyMisc()}),function(x,w,v){function u(){t=w[q](function(){s.each(function(){var a,j,i=x(this),h=x.data(this,o);try{a=i.width()}catch(g){a=i.width}try{j=i.height()}catch(g){j=i.height}(a!==h.w||j!==h.h)&&i.trigger(p,[h.w=a,h.h=j])}),u()},r[n])}var t,s=x([]),r=x.resize=x.extend(x.resize,{}),q="setTimeout",p="resize",o=p+"-special-event",n="delay",m="throttleWindow";r[m]=!0,x.event.special[p]={setup:function(){if(!r[m]&&this[q]){return !1}var a=x(this);s=s.add(a);try{x.data(this,o,{w:a.width(),h:a.height()})}catch(d){x.data(this,o,{w:a.width,h:a.height})}1===s.length&&u()},teardown:function(){if(!r[m]&&this[q]){return !1}var a=x(this);s=s.not(a),a.removeData(o),s.length||clearTimeout(t)},add:function(a){function f(e,l,k){var j=x(this),i=x.data(this,o);i.w=l!==v?l:j.width(),i.h=k!==v?k:j.height(),c.apply(this,arguments)}if(!r[m]&&this[q]){return !1}var c;return x.isFunction(a)?(c=a,f):(c=a.handler,void (a.handler=f))}}}(jQuery,this),$("#main").resize(function(){$(window).width()<979?($.root_.addClass("mobile-view-activated"),$.root_.removeClass("minified")):$.root_.hasClass("mobile-view-activated")&&$.root_.removeClass("mobile-view-activated")});var ie=function(){for(var f,e=3,h=document.createElement("div"),g=h.getElementsByTagName("i");h.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->",g[0];){}return e>4?e:f}();$.navAsAjax&&($("nav").length,$(document).on("click",'nav a[href!="#"]',function(d){d.preventDefault();var c=$(d.currentTarget);c.parent().hasClass("active")||c.attr("target")||($.root_.hasClass("mobile-view-activated")?($.root_.removeClass("hidden-menu"),$("html").removeClass("hidden-menu-mobile-lock"),window.setTimeout(function(){window.location.search?window.location.href=window.location.href.replace(window.location.search,"").replace(window.location.hash,"")+"#"+c.attr("href"):window.location.hash=c.attr("href")},150)):window.location.search?window.location.href=window.location.href.replace(window.location.search,"").replace(window.location.hash,"")+"#"+c.attr("href"):window.location.hash=c.attr("href"))}),$(document).on("click",'nav a[target="_blank"]',function(d){d.preventDefault();var c=$(d.currentTarget);window.open(c.attr("href"))}),$(document).on("click",'nav a[target="_top"]',function(d){d.preventDefault();var c=$(d.currentTarget);window.location=c.attr("href")}),$(document).on("click",'nav a[href="#"]',function(b){b.preventDefault()}),$(window).on("hashchange",function(){})),$("body").on("click",function(b){$('[rel="popover"]').each(function(){$(this).is(b.target)||0!==$(this).has(b.target).length||0!==$(".popover").has(b.target).length||$(this).popover("hide")})});